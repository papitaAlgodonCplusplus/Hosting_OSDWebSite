<div class="text-darkslategray text-start py-3 text-xl font-medium animate__animated animate__fadeInLeft">
    <span class="pl-5 pr-3 py-1 bg-yellow-500 rounded-r-full whitespace-nowrap overflow-hidden">
        {{'transparent_project' | translate}} <i class="fa-solid fa-project-diagram"></i></span>
</div>
<div class="flex justify-center flex-col lg:flex-row">
    <div class="p-3">
        <div class="lg:sticky top-3 px-3 lg:overflow-y-auto lg:max-h-screen">
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="objetives"
                label="{{'objectives' | translate}}:" inputType="text" [formGroup]="formProjectManager"
                [bgColor]="'bg-white-lightbone'"></shared-input-field>
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="economicBudget"
                label="{{'economicBudget' | translate}}:" inputType="text" [formGroup]="formProjectManager"
                [bgColor]="'bg-white-lightbone'"></shared-input-field>
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="expectedTimes"
                label="{{'expectedTimes' | translate}}:" inputType="text" [formGroup]="formProjectManager"
                [bgColor]="'bg-white-lightbone'"></shared-input-field>
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="startDate"
                label="{{'start_date' | translate}}:" inputType="text" [formGroup]="formProjectManager"
                [bgColor]="'bg-white-lightbone'"></shared-input-field>
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="endDate"
                label="{{'end_date' | translate}}:" inputType="text" [formGroup]="formProjectManager"
                [bgColor]="'bg-white-lightbone'"></shared-input-field>
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="projectAmount"
                label="{{'project_amount' | translate}}:" inputType="text" [formGroup]="formProjectManager"
                [bgColor]="'bg-white-lightbone'"></shared-input-field>
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="expensesEmployeesVolunteers"
                label="{{'expenses_employees_volunteers' | translate}}:" inputType="text"
                [formGroup]="formProjectManager" [bgColor]="'bg-white-lightbone'"></shared-input-field>
            <shared-input-field [readOnly]="readOnly" class="w-full md:w-1/3" fieldName="supplierExpensesPurchases"
                label="{{'supplier_purchasing_expenses' | translate}}:" inputType="text"
                [formGroup]="formProjectManager" [bgColor]="'bg-white-lightbone'"></shared-input-field>
        </div>
    </div>
    <div class="flex-1 px-3 space-y-3">
        <div class="text-darkslategray text-center text-xl mt-3 font-bold">
            <h1>
                {{'performances' | translate}}
            </h1>
        </div>

        <div class="text-center text-xs font-extralight flex flex-row justify-end items-center space-x-3 px-1">
            <span class="m-1 cursor-pointer border-b" (click)="sortDateLowestHighest(true)">{{'date_low_to_major' |
                translate}}</span>
            <span class="m-1 cursor-pointer border-b" (click)="sortDateLowestHighest(false)">{{'date_major_to_minor' |
                translate}}</span>
            <div class="flex items-center justify-end space-x-3" *ngIf="isUser">
                <div *ngIf="showOptions" class="animate__animated animate__fadeInRight flex flex-row space-x-3">
                    <i (click)="cleanPerformance()" routerLink="/project-manager/performance-buy"
                        class="cursor-pointer px-2 py-1 fa-solid fa-cart-shopping text-xl bg-line text-darkslategray rounded-full"></i>
                    <i routerLink="/project-manager/performance-free-professional" (click)="cleanPerformance()"
                        class="cursor-pointer px-2 py-1 fa-solid fa-user-tie text-xl bg-line text-darkslategray rounded-full"></i>
                </div>
                <button class="flex items-center bg-darkslategray p-2 rounded-lg text-line text-sm"
                    (click)="showOptionsPerformance()">
                    <i class="fas animate-pulse pr-3 "
                        [ngClass]="{'fa-chevron-right' : showOptions, 'fa-chevron-left':!showOptions}"></i>
                    {{'CreatePerformance' | translate}}
                </button>
            </div>
        </div>

        <table class="table-auto w-full">
            <thead>
                <tr class="text-darkslategray font-normal border-b text-center">
                    <th class="px-2" style="width: 5%;"></th>
                    <th class="px-2">{{'TypePerformance' | translate}}</th>
                    <th class="px-2">{{'Summary' | translate}}</th>
                    <th class="px-2 py-1">{{'Date' | translate}}</th>
                    <th class="px-2 py-1">{{'Hours' | translate}}</th>
                    <th class="px-2 py-1">{{'Amount' | translate}}</th>
                </tr>
            </thead>
            <tbody>
                <tr class="font-light" *ngFor="let performance of displayedItems">
                    <td routerLink="/project-manager/performance-buy"
                        class="text-center text-darkslategray font-medium text-s border-y px-2 py-2 hover:underline cursor-pointer"
                        (click)="selectPerformance(performance.Id)" [title]="performance.Id"
                        *ngIf="performance.Type === '-'">{{'viewData' | translate}}</td>
                    <td routerLink="/project-manager/performance-free-professional"
                        class="text-center text-darkslategray font-medium  text-s border-y px-2 py-2 hover:underline cursor-pointer"
                        (click)="chargePerformanceFP(performance.Id)" [title]="performance.Id"
                        *ngIf="performance.Type !== '-'">{{'viewData' | translate}}</td>
                    <td class="text-center text-s border-y px-2 py-2">{{performance.Type}}</td>
                    <td class="text-center text-s border-y px-2 py-2">{{performance.Summary}}</td>
                    <td class="text-center border-y px-3 py-2">{{ performance.Date | date:'dd-MM-yyyy' }}</td>
                    <td class="text-center border-y px-3 py-2">{{performance.Hours}}</td>
                    <td class="text-center border-y px-3 py-2"> {{performance.Amount}}</td>
                </tr>
            </tbody>
        </table>
        <div class="text-center text-darkslategray px-2 py-2 " *ngIf="displayedItems.length === 0">
            <i class="fa-solid fa-arrow-rotate-right animate-spin"></i> {{'Loading' | translate}}
        </div>
        <mat-paginator [length]="allPerformances.length" [pageSize]="10" (page)="onPageChange($event)"></mat-paginator>

        <div class="flex justify-end p-3">
            <button [routerLink]="isUser ? '/home' : '/reports'"
                class="bg-line font-medium p-2 rounded-xl flex items-center text-darkslategray">
               {{'regresar' | translate}}
            </button>
        </div>
    </div>
</div>